!function(t,e,n){"use strict";var i;return i={animate:"TweenLite",speed:.6,selector:{trail:".ux-offcanvas-menu-trail",menu:".ux-offcanvas-menu",links:".children > a"}},t.ux_offcanvas_menu=function(n,a){this.debug=!1,this.initialized=!1,this.visible=!1,this._defaults=i,this.settings=t.extend(!0,{},this._defaults,a),this.element=t(n),this.offcanvas=t(n).closest(".ux-offcanvas-item"),this.trail=t(this.settings.selector.trail,n),this.menu=t(this.settings.selector.menu,n),this.links=t(this.settings.selector.links,n),this.trail_links=[],this.initialize=function(t){return function(){t.set_animator(),t.offcanvas.on("ux_offcanvas_item.open",function(){t.initialized||(t.bind_links(),t.show_level()),t.visible=!0,t.initialized=!0}),t.offcanvas.on("ux_offcanvas_item.close",function(){t.visible=!1}),t.log("UX Offcanvas Menu has been initialized.")}}(this),this.get_level=function(t){return function(){var e=t.menu.attr("data-depth");return e>0?e:0}}(this),this.set_level=function(t){return function(e){e=e>0?e:0,t.menu.attr("data-depth",e)}}(this),this.show_level=function(e){return function(n){n=n||e.get_level();var i=e.menu.width()*n,a=e.visible?e.settings.speed:.1;e.set_level(n),e.trail_build(n),e.animate.to(e.menu,a,{x:i*-1}).eventCallback("onComplete",function(){t('ul[data-level="'+n+'"] li.active-trail',e.menu).removeClass("active-trail")})}}(this),this.trail_build=function(e){return function(n){n=n||e.get_level();var i,a,s,l=[t('<a data-level="0">All</a>')],o=t(".active-trail"+this.settings.selector.links,e.menu);for(i=0;i<n;i++)e.trail_links[i+1]?l.push(e.trail_links[i+1]):(s=o.eq(i),l.push(t('<a data-level="'+(i+1)+'">'+t(s).text()+"</a>")));var r=function(n){n.preventDefault(),e.show_level(t(this).attr("data-level"))},u=function(e){t(e).remove()};if(l.length>e.trail_links.length)for(i=e.trail_links.length;i<l.length;i++)a=l[i],a.appendTo(e.trail).on("click",r),e.visible&&e.animate.fromTo(a,e.settings.speed,{opacity:0},{opacity:1,clearProps:"All"});else if(l.length<e.trail_links.length)for(i=l.length;i<e.trail_links.length;i++)a=e.trail_links[i],e.visible?e.animate.to(a,e.settings.speed,{opacity:0}).eventCallback("onComplete",u,a):a.remove();e.trail_links=l}}(this),this.bind_links=function(e){return function(){e.links.on("click",function(n){n.preventDefault();var i=t(this).next("ul").attr("data-level");t(this).parent("li").addClass("active-trail"),e.show_level(i)})}}(this),this.level_revert=function(t){return function(e){var n=t.menu.width()*e;t.set_level(e),t.animate.to(t.menu,t.settings.speed,{x:n*-1}).eventCallback("onComplete",function(){})}}(this),this.set_animator=function(t){return function(){t.animate=e[t.settings.animate],t.log("Animating using the "+t.settings.animate+" platform.")}}(this),this.log=function(t){return function(e){t.debug&&("object"==typeof e?console.log("[UX Offcanvas Menu]",e):console.log("[UX Offcanvas Menu] "+e))}}(this),this.error=function(t){return function(t){"object"==typeof t?console.error("[UX Parallax]",t):console.error("[UX Parallax] "+t)}}(this),this.initialize()},t.fn.ux_offcanvas_menu=function(e){return this.each(function(n,i){if(!t.data(i,"ux_offcanvas"))return t.data(i,"ux_offcanvas_menu",new t.ux_offcanvas_menu(i,e))})},t.fn.ux_offcanvas_menu}(window.jQuery,window,document);