!function(t,e,n,s){"use strict";function i(e,n){this.settings=n,this.$window=t(window),this.$document=t(document),this.$offcanvas=e,this.$trigger=t("#ux-offcanvas-trigger-"+n.id),this.setup()}t.extend(i,{$body:t("body"),$wrapper:t("#ux-offcanvas"),instances:{},currentId:null,getInstance:function(t){var e=this;return e.instances[t]},open:function(t){var n=this,s=n.currentId,i=n.getInstance(t);s&&n.close(),s!==t&&(n.currentId=t,n.$body.addClass("ux-offcanvas-active ux-offcanvas-"+i.getPosition()),i.open(),e.Ux.blurContent(),e.Ux.showShadow(function(t){n.close()}))},close:function(t){var n=this;t=t||n.currentId;var s=n.getInstance(t);n.currentId=null,n.$body.removeClass("ux-offcanvas-active ux-offcanvas-"+s.getPosition()),s.close(),n.stopBodyScrolling(!1),e.Ux.focusContent(),e.Ux.hideShadow()},stopBodyScrolling:function(t){var e=this;if(t===!0){var n=function(t){t.preventDefault()};e.$body.on("touchmove.ux-offcanvas",n)}else e.$body.off("touchmove.ux-offcanvas")}}),t.extend(i.prototype,{_defaults:{position:"left",size:320},isActive:!1,setup:function(){var e=this;e.settings=t.extend(!0,{},e._defaults,e.settings),e.size(),e.$trigger.length&&e.$trigger.on("click.ux-offcanvas",function(t){t.preventDefault(),i.open(e.getId())}),e.$offcanvas.find(".ux-offcanvas-close").on("click.ux-offcanvas",function(t){t.preventDefault(),i.close(e.getId())})},size:function(){var t=this;switch(t.$offcanvas.css(t.getOffset()),t.settings.position){case"left":case"right":t.$offcanvas.width(t.getWidth());break;default:t.$offcanvas.height(t.getHeight())}},getId:function(){var t=this;return t.settings.id},getPosition:function(){var t=this;return t.settings.position},getWidth:function(){var t=this,e=this.$window.width();return 0===t.settings.size||t.settings.size>e?e:e},getHeight:function(){var t=this,e=this.$window.height();return 0===t.settings.size||t.settings.size>e?e:e},open:function(){var t=this;t.isActive=!0,t.$offcanvas.addClass("active"),t.size(),t.$offcanvas.trigger("ux_offcanvas_item.open"),t.$trigger.addClass("active"),t.$document.on("keyup.ux-offcanvas",function(e){27===e.keyCode&&(e.preventDefault(),i.close(t.getId()))})},close:function(t,e){var n=this;n.isActive=!1,n.$offcanvas.removeClass("active"),n.$offcanvas.trigger("ux_offcanvas_item.close"),n.$trigger.removeClass("active"),n.$document.off("keyup.ux-offcanvas")},getOffset:function(){var t=this,e=t.settings.position,n={left:"right",right:"left",top:"bottom",bottom:"top"},i=jQuery.extend({},s.offsets);switch(e){case"top":case"bottom":i.maxHeight=t.$window.height()-i.top-i.bottom}return delete i[n[e]],i}}),e.behaviors.uxOffcanvas={attach:function(n,s){if(s.ux&&s.ux.offcanvas&&s.ux.offcanvas.items){var o,a=t("#ux-offcanvas").once("ux-offcanvas");if(a.length)for(var f in s.ux.offcanvas.items)s.ux.offcanvas.items[f]&&(o=t("#ux-offcanvas-"+f,n),o.length&&(i.instances[f]=new i(o,s.ux.offcanvas.items[f])));e.Ux.addResizeCallback(function(){for(var t in i.instances)i.instances[t]&&i.instances[t].size()})}}},e.UxOffcanvas=i}(jQuery,Drupal,drupalSettings,Drupal.displace);