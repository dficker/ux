!function(t,e,i,n){"use strict";function a(e,i){this.element=e,this._name=s,this._defaults=t.fn.uxFormInput.defaults,this.options=t.extend({},this._defaults,i),this.init()}var s="uxFormInput";t.extend(a.prototype,{init:function(){this.buildCache(),this.bindEvents(),this.buildElement()},destroy:function(){this.unbindEvents(),this.$element.removeData()},buildElement:function(){var t=this;(this.hasValue()||this.isAutofocus()||this.hasPlaceholder()||this.hasBadInput())&&this.$element.addClass("active"),setTimeout(function(){t.$element.addClass("ready")})},buildCache:function(){var e=this;e.$element=t(this.element),e.$error=e.$element.find(".field-error"),e.input_selector=".ux-form-input-item-js",e.$field=e.$element.find(e.input_selector),e.$field.each(function(i){var n=e.$element.find(".field-prefix"),a=e.$element.find(".field-suffix"),s=e.$element.find(".field-input");a.length?a.after('<div class="ux-form-input-line" />'):n.length?s.after('<div class="ux-form-input-line" />'):t(this).after('<div class="ux-form-input-line" />')}),e.hasError()&&e.$element.addClass("invalid"),e.$error.length&&(e.$element.addClass("invalid").attr("data-error",e.$error.text()),e.$error.remove())},bindEvents:function(){var t=this;t.$field.on("change."+t._name,function(){t.onChange.call(t)}),t.$field.on("focus."+t._name,function(){t.onFocus.call(t)}),t.$field.on("blur."+t._name,function(){t.onBlur.call(t)})},unbindEvents:function(){this.$field.off("."+this._name)},onChange:function(){(this.hasValue()||this.hasPlaceholder())&&this.$element.addClass("active"),this.validate()},onFocus:function(){this.isReadonly()||this.$element.addClass("active focus")},onBlur:function(){var t="focus";this.hasValue()||!this.isValid()||this.hasPlaceholder()||(t+=" active"),this.$element.removeClass(t),this.validate()},validate:function(){this.$element.removeClass("valid invalid").removeAttr("data-error"),this.isValid()?this.hasValue()&&this.$element.addClass("valid"):this.$element.addClass("invalid").attr("data-error",this.$field[0].validationMessage)},hasPlaceholder:function(){var t=this.$field.attr("placeholder");return void 0!==t&&t.length>0},hasValue:function(){return this.$field.val().length>0},hasError:function(){return this.$field.hasClass("error")},hasBadInput:function(){return!0===this.$field[0].validity.badInput},isValid:function(){return!0===this.$field[0].validity.valid},isAutofocus:function(){return void 0!==this.$field.attr("autofocus")},isReadonly:function(){return void 0!==this.$field.attr("readonly")}}),t.fn.uxFormInput=function(e){return this.each(function(){t.data(this,s)||t.data(this,s,new a(this,e))}),this},t.fn.uxFormInput.defaults={},e.behaviors.uxFormInput={attach:function(e){t(e).find(".ux-form-input-js").once("ux-form-input").uxFormInput()}}}(jQuery,Drupal,window,document);