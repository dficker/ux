!function(t,i,e,n){"use strict";function s(i,e){this.element=i,this._name=a,this._defaults=t.fn.uxFormInput.defaults,this.options=t.extend({},this._defaults,e),this.init()}var a="uxFormInput";t.extend(s.prototype,{init:function(){this.buildCache(),this.bindEvents(),this.buildElement()},destroy:function(){this.unbindEvents(),this.$element.removeData()},buildElement:function(){var t=this;(this.hasValue()||this.isAutofocus()||this.hasPlaceholder()||this.hasBadInput())&&this.$element.addClass("active"),setTimeout(function(){t.$element.addClass("ready")})},buildCache:function(){var i=this;i.$element=t(this.element),i.input_selector=".ux-form-input-item-js",i.$field=i.$element.find(i.input_selector),i.$field.each(function(e){var n=i.$element.find(".field-suffix");n.length?n.after('<div class="ux-form-input-line" />'):t(this).after('<div class="ux-form-input-line" />')}),i.hasError()&&i.$element.addClass("invalid")},bindEvents:function(){var t=this;t.$field.on("change."+t._name,function(){t.onChange.call(t)}),t.$field.on("focus."+t._name,function(){t.onFocus.call(t)}),t.$field.on("blur."+t._name,function(){t.onBlur.call(t)})},unbindEvents:function(){this.$field.off("."+this._name)},onChange:function(){(this.hasValue()||this.hasPlaceholder())&&this.$element.addClass("active"),this.validate()},onFocus:function(){this.isReadonly()||this.$element.addClass("active focus")},onBlur:function(){var t="focus";this.hasValue()||!this.isValid()||this.hasPlaceholder()||(t+=" active"),this.$element.removeClass(t),this.validate()},validate:function(){this.$element.removeClass("valid invalid").removeAttr("data-error"),this.isValid()?this.hasValue()&&this.$element.addClass("valid"):this.$element.addClass("invalid").attr("data-error",this.$field[0].validationMessage)},hasPlaceholder:function(){var t=this.$field.attr("placeholder");return void 0!==t&&t.length>0},hasValue:function(){return this.$field.val().length>0},hasError:function(){return this.$field.hasClass("error")},hasBadInput:function(){return!0===this.$field[0].validity.badInput},isValid:function(){return!0===this.$field[0].validity.valid},isAutofocus:function(){return void 0!==this.$field.attr("autofocus")},isReadonly:function(){return void 0!==this.$field.attr("readonly")}}),t.fn.uxFormInput=function(i){return this.each(function(){t.data(this,a)||t.data(this,a,new s(this,i))}),this},t.fn.uxFormInput.defaults={},i.behaviors.uxFormInput={attach:function(i){t(i).find(".ux-form-input-js").once("ux-form-input").uxFormInput()},detach:function(i,e,n){"unload"===n&&t(i).find(".ux-form-input-js").each(function(){var i=t(this).data("uxFormInput");i&&i.destroy()})}}}(jQuery,Drupal,window,document);